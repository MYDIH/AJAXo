var AJAXo=new function(){this.pages=[];this.usedLoader=this.usedGlobalContainer=this.usedContainer=null;this.container="#PageContainer";this.globalContainer="#PageGlobalContainer";this.loader="#LoaderContainer";this.queue=[];this.pageIsLoading=!1;this.addAPage=function(a){a.hasOwnProperty("load")&&a.hasOwnProperty("name")?this.pages.push(a):console.log("AJAXo : Trying to add an invalid page.")};this.startAjaxHandling=function(){$(window).on("statechange",function(){var a=History.getState();AJAXo.loadPageByName(a.data.page,
a.data)});$(document).on("ajaxhandler.load.finished.normalHandle",function(){AJAXo.pageIsLoading=!1;AJAXo.launchFollowingPage();return!1});var a=URLParser.parse(window.location);return null!=a?(AJAXo.changePage(a.page,a,!0),!0):!1};this.changePage=function(a,b,d){b=b||{};d=d||!1;b.page=a;b.randomData=window.Math.random();a="";for(var c in b)b.hasOwnProperty(c)&&"randomData"!=c&&(a=""==a?a+(c+"="+encodeURIComponent(b[c])):a+("&"+c+"="+encodeURIComponent(b[c])));d?History.replaceState(b,"","?"+a):History.pushState(b,
"","?"+a)};this.loadPageComponent=function(a,b){return this.loadPage(a,b)};this.loadPageComponentById=function(a,b,d){return this.loadPageComponent(a.components[b],d)};this.loadPageComponentByName=function(a,b,d){for(var c=0;c<this.pages.length;c++)if(this.pages[c].name==a)for(var e=0;e<this.pages[c].components.length;e++)if(this.pages[c].components[e].name==b)return this.loadPageComponent(this.pages[c].components[e],d);return!1};this.reloadPage=function(){var a=History.getState();a.data.randomData=
window.Math.random();var b=$.param(a.data).replace("&randomData="+a.data.randomData,"");History.replaceState(a.data,"","?"+b)}},URLParser=new function(){this.parse=function(a){a=decodeURIComponent(a.search.substring(1)).split("&");var b={},d=!1,c;for(c in a){var e=a[c].split("=");"page"==e[0]&&(d=!0);b[e[0]]=e[1]}return d?b:null}};
